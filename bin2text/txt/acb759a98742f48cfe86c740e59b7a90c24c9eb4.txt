(function(){return function(e,t,n){var r,a,i,o,p,s,c,g,m,u,h,l,d,C,f=Scanner.fromMessage(e);if(f.setLocale(t),!n.emailTitelConfirmation.test(e.subject))return CONTINUE;p=f.getSpan().innerCapture(n.reservationId,1),r=f.getSpan().innerCapture(n.guestName,1),c=f.getSpan().nextRegExp(n.checkInDate).nextDate(),g=f.getSpan().nextRegExp(n.checkOutDate).nextDate();var x=f.getSpan().nextRegExp(n.price).nextRegExp(n.price).innerCapture(n.price,1);if(i=x.innerCapture(/([\d,.]+)/,1),o=x.innerCapture(/([^\d,.]+)/,1).trim(),u=f.getSpan().innerCapture(regExpFormatted(/\1.+\n.*\n(.+)/,n.hotelInfo),1),h=f.getSpan().innerPhoneNumber(),l=f.getSpan().innerCapture(regExpFormatted(/\1.+\n.*\n.+\n([\s\S]*)\2/,n.hotelInfo,n.hotelAddress),1),n.emailTitelConfirmation.test(e.subject)){if(!ASSERT(r,p,c,g,l))return CONTINUE;s="Confirmed"}return[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:r,email:a},totalPrice:i,priceCurrency:o,checkinTime:c,checkoutTime:g,modifyReservationUrl:d,cancelReservationUrl:C,reservationStatus:"http://schema.org/Reservation"+(s||"Confirmed"),reservationId:p,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:u,url:m,telephone:h,address:l}}]}}).call();